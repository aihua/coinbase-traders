<div class="center-block col-md-8">
    <h2>Register a new client</h2>

    <error message="errorMessage"></error>

    <form name="newClient" novalidate>
        <div class="form-group required">
          <label for="random-id">Transaction id</label>

          <input id="random-id" type="text" class="form-control" name="randomId"
                 ng-model="client.randomId" ng-required="true" ng-readonly="true">
        </div>
        <div class="form-group required" ng-class="{'has-error': newClient.apiKey.$invalid && newClient.apiKey.$dirty}">
            <label for="api-key">ApiKey</label>

            <input id="api-key" type="text" class="form-control" name="apiKey"
                   ng-model="client.apiKey" ng-required="true">
        </div>
        <div class="form-group required" ng-class="{'has-error': newClient.apiSecret.$invalid && newClient.apiSecret.$dirty}">
            <label for="api-secret">ApiSecret</label>

            <input id="api-secret" type="text" class="form-control" name="apiSecret"
                   ng-model="client.apiSecret" ng-required="true">
        </div>
        <div class="form-group required client-type" ng-class="{'has-error': newClient.type.$invalid && newClient.type.$dirty}">
            <div class="btn-group" role="group">
                <button type="button" class="btn btn-orange" ng-click="setClientType('buy')" ng-class="{active: client.type == 'buy'}">
                    Buy
                </button>
                <button type="button" class="btn btn-orange" ng-click="setClientType('sell')" ng-class="{active: client.type == 'sell'}">
                    Sell
                </button>
            </div>
        </div>
        <div class="form-group required" ng-class="{'has-error': newClient.limit.$invalid && newClient.limit.$dirty}">
            <label for="limit" ng-if="client.type == 'buy'">
                Highest limit when not to buy in USD

                <i class="fa fa-question-circle" ns-popover ns-popover-template="limit-popover" ns-popover-placement="top"
                   ns-popover-trigger="mouseenter" ns-popover-timeout="0.5"></i>
                <script type="text/ng-template" id="limit-popover">
                    This is the price limit plapliuplau
                </script>
            </label>
            <label for="limit" ng-if="client.type == 'sell'">
                Lowest limit when not to sell in USD
            </label>

            <input id="limit" type="text" class="form-control" name="limit" ng-model="client.limit" ng-required="true"
                   fcsa-number="{min: 0, maxDecimals: 2, preventInvalidInput: true}">

            <div class="validation-msg" ng-show="newClient.limit.$invalid && newClient.limit.$dirty">
                Limit has to be a number with at most 2 decimal places
            </div>
        </div>
        <div class="form-group required" ng-class="{'has-error': newClient.amount.$invalid && newClient.amount.$dirty}">
            <label for="amount" ng-if="client.type == 'buy'">Amount in EUR</label>
            <label for="amount" ng-if="client.type == 'sell'">Amount in BTC</label>

            <input id="amount" type="text" class="form-control" name="amount" ng-model="client.amount"
                   ng-required="true" fcsa-number="{min: 0, maxDecimals: 8, preventInvalidInput: true}">

            <div class="validation-msg" ng-show="newClient.amount.$invalid && newClient.amount.$dirty">
                Amount has to be a number with at most 8 decimal places
            </div>
        </div>

        <button class="btn btn-primary" ng-click="submit()" loading="registeringClient"
                ng-disabled="newClient.$invalid || registeringClient">
            Add new
        </button>
    </form>
</div>